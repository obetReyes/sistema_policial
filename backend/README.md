# sistema policial

**warning sistema policial is just a prototype and its not inteded to be used in production yet**

the system is intended to be  a prototype or a toy  project which would be intended to be used by civil organizations or security forces in mexico  to improve the public safety organization, the system includes tracking systems intended to be by   groups or teams inside the organization it could be inside an state, country, or towns, also the system recopiles info about crimes,individuals can generate reports and also the organization can analize statistics generated by the system or by the onci (observatorio nacional ciudadano) 

#
create a database in postgres
open a terminal and navigate to the folder project and run npx prisma migrate --name init
it will create the schema in the db
and also you will to run  npx prisma generate to interact with the database from express

you will a env file with the next attributes,
- MAIL="here goes an email"
- MAIL_TO="an email to receive notifications"
- DATABASE_URL="database url localhost or in the cloud"
- ACCESS_TOKEN_SECRET="acess token secret for the jwt "
- REFRESH_TOKEN_SECRET="refresh token secret for the refresh jwt "
- REDIS_URL="a redis server in the cloud or using the docker container"
- PORT=the app port
- SENTRY_DSN="a sentry service that catch all the issues in the app , you will need to create a issues project  https://sentry.io/"
- ACCESS_TOKEN_EXPIRATION=set "jwt token access expiration"
- REFRESH_TOKEN_EXPIRATION="set a refresh token access expiration"
- JWT_ALGORITHM="HS256"

run the project using npm run dev

## backend 

### stack
* node js
* express
* postgresql 
* prisma orm
* redis
* websockets
* rest api 
* docker
* jest
* supertest 
* jwt tokens
* cookies 
* typescript
* swagger

### files
*routes file  merge all the routers inside the app*

*creates the server requiere the  routes and some middlewares*

*prisma service client (is the orm used to create actions in the postgres db)*

### folders

*provides authorization and authentication using access and refresh tokens the users can login in the app to use the resources provided according to their permissions **see the auth folder for more info**.* 


